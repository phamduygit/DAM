@using DAM.Models
@using System.Reflection;
@model dynamic

@{
	ViewData["Title"] = "Table Infomation";
}
<h1>@ViewData["Title"]</h1>

@* <h2>Person</h2> *@

@* <form method="post" action="/Home/Handle/@ViewBag.Data.GetType().Name"  *@
<form method="post" action="/Home/Handle/@ViewBag.tableName" class="m-2 p-3 bg-light">
	@foreach (string colName in ViewBag.ColNames)
	{
					<div class="form-group row">
						<label for=@colName class="col-sm-2 col-form-label text-right">
				@colName
						</label>
						<div class="col-sm-10">
							<input type="text" class="form-control" id=@colName name=@colName>
						</div>
					</div>
	}
	<div class="form-group">
		<input class="btn btn-primary" type="submit" name="handle" value="Insert" />
		<input class="btn btn-info" type="submit" name="handle" value="Update" />
	</div>
</form>

<table class="table table-bordered">
	<thead>
		<tr>
			@{
				foreach (string colName in ViewBag.ColNames)
				{
											<td>@colName</td>
				}
			}
			<td>Action</td>
		</tr>
	</thead>
	<tbody>
		@foreach (var row in ViewBag.Data)
		{
						<tr>
				@foreach (var name in ViewBag.ColNames)
				{
											<td>@row[name]</td>
				}
							<td>
								<div class="btn-group" role="group" aria-label="Basic example">
									<button type="button" class="btn btn-success">Edit</button>
									<button type="button" class="btn btn-danger">Delete</button>
								</div>
							</td>
						</tr>
		}
	</tbody>
</table>
